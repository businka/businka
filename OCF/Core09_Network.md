[Copyright Open Connectivity Foundation, Inc. © 2016-2018. All rights Reserved](https://openconnectivity.org/)

# 9 Сеть и связь

## 9.1 Введение

Интернет вещей состоит из широкого спектра приложений, которые воспринимают и приводят в действие физический мир с широким спектром возможностей устройств и сетей: от узлов с питанием от батареи, передающих 100 байтов в день и способных работать в течение 10 лет на батарейке типа «таблетка», к сетевым узлам, способным поддерживать мегабитные видеопотоки. Предполагается, что в ближайшие годы будет развернуто много десятков миллиардов устройств IoT.

Желательно, чтобы варианты подключения были адаптированы к уровню IP. С этой целью IETF завершила значительную работу по адаптации Bluetooth®, Wi-Fi, 802.15.4, LPWAN и т. Д. К IPv6. Эти адаптации, а также увеличенное адресное пространство и улучшенные возможности управления адресами делают IPv6 очевидным выбором для технологии сетевого уровня OCF.

## 9.2 Архитектура

Хотя устаревшая сеть, ориентированная на IPv4, развивалась для поддержки сложных топологий, ее развертывание в первую очередь обеспечивалось одним провайдером Интернет-услуг (ISP) в виде единой сети. Более сложные топологии сети, часто наблюдаемые в жилых домах, в основном вводятся путем приобретения дополнительных устройств домашней сети, которые основаны на таких технологиях, как трансляция частных сетевых адресов (NAT). Эти технологии требуют экспертной помощи для правильной установки, и их следует избегать в домашней сети, поскольку они чаще всего приводят к поломке таких структур, как службы маршрутизации, именования и обнаружения.
Адреса многосегментных экосистемных OCF вызовут не только распространение новых устройств и связанных с ними маршрутизаторов, но и новые услуги, внедряющие дополнительные пограничные маршрутизаторы. Все эти новые требования требуют передовых архитектурных конструкций для решения сложных сетевых топологий, подобных той, что показана на рисунке 13.

![Figure 13. High Level Network & Connectivity Architecture](C:/Manual/OCF/figure/13.png)

С точки зрения IETF RFC 6434, узлы IPv6 принимают на себя роль маршрутизатора или хоста. Узлы могут дополнительно реализовывать различные специализации этих ролей:

- Маршрутизатор может реализовывать возможности Customer Edge Router, как определено в IETF RFC 7084.

- Узлы, ограниченные в вычислительной мощности, памяти, энергонезависимой памяти или емкости передачи, требуют специальных уровней адаптации IP (6LoWPAN) и / или выделенных протоколов маршрутизации (RPL). Примеры включают устройства, передающие через физический уровень с низким энергопотреблением, такие как IEEE 802.14.5, ITU G9959, Bluetooth с низким энергопотреблением, DECT со сверхнизким энергопотреблением и связь ближнего поля (NFC).

- Узел может транслировать и маршрутизировать обмен сообщениями между сетями IPv6 и не-IPv6.

  ## 9.3 Требования сетевого уровня IPv6

  ### 9.3.1 Введение

Прогнозы показывают, что в ближайшие несколько лет будут введены в действие многие десятки миллиардов новых конечных точек IoT и связанных с ними услуг. Возможности этих конечных точек будут варьироваться от узлов с батарейным питанием с ограниченными вычислительными ресурсами, хранилищами и пропускной способностью до более богатых ресурсами устройств, работающих по каналам Ethernet и WiFi.

Протокол Интернета версии 4 (IPv4), развернутый около 30 лет назад, созрел для поддержки широкого спектра приложений, таких как просмотр веб-страниц, электронная почта, голосовая связь, видеосвязь и мониторинг и управление критическими системами. Однако возможности IPv4 находятся на грани исчерпания, и немаловажным является использование доступного адресного пространства.

IETF давно видела необходимость преемника IPv4, следовательно, развитие IPv6. OCF рекомендует IPv6 на сетевом уровне. Среди причин для рекомендаций IPv6:

- Большое адресное пространство. Побочный эффект: значительно снижает потребность в NAT.
- Более гибкая архитектура адресации. Несколько адресов и типов на интерфейс: Link-local, ULA, GUA, многоадресные адреса различной области действия и т. Д. Лучшая способность поддерживать сети с несколькими домами, лучшая возможность повторной нумерации и т. Д.
- Более широкие возможности автоматической настройки: DHCPv6, SLAAC, обнаружение маршрутизатора и т.д.
- Технологии, обеспечивающие возможность подключения по IP на узлах с ограничениями, основаны на IPv6.
- Все основные потребительские операционные системы (IoS, Android, Windows, Linux) уже поддерживают IPv6.
- Крупные поставщики услуг по всему миру внедряют IPv6.

### 9.3.2 Требования к узлу IPv6

#### 9.3.2.1 Введение

Для обеспечения функциональной совместимости услуг сетевого уровня от узла к узлу жизненно важно назначить общий сетевой уровень для всех узлов. Протокол должен позволять сети быть: защищенной, управляемой и масштабируемой и включать ограниченные и самоорганизующиеся ячеистые узлы. OCF предписывает IPv6 в качестве общего протокола сетевого уровня для обеспечения взаимодействия всех устройств.
Более способные устройства могут также включать дополнительные протоколы, создающие устройства с несколькими стеками. В оставшейся части этого раздела основное внимание будет уделено требованиям совместимости для хостов IPv6, хостов с ограничением IPv6 и маршрутизаторов IPv6. Различные перестановки трансляции протоколов, включенные в шлюзовые устройства с несколькими стеками, могут быть адресами в последующих дополнениях этой спецификации.

#### 9.3.2.2 IP-уровень

Узел IPv6 должен поддерживать IPv6 и соответствовать требованиям, указанным в IETF RFC 6434.